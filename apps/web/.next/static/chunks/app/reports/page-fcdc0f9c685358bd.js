(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{766:(e,t,s)=>{"use strict";s.d(t,{G8:()=>d,_J:()=>a,ao:()=>o,cg:()=>l,mi:()=>r,o_:()=>n,pQ:()=>i,pz:()=>c,vQ:()=>m});let a=[{id:"1",companyNameEn:"ABC Manufacturing Co., Ltd.",industrialName:"Manufacturing",province:"Bangkok",contactPersons:[{name:"John Smith",phone:"+66-2-123-4567",email:"john@abc-mfg.com"}],verificationStatus:"Active",dataCompleteness:95,lastUpdated:"2024-12-08",createdBy:"System Import",registeredNo:"0105564111698",companySize:"L"},{id:"2",companyNameEn:"Bangkok Logistics Solutions Ltd.",industrialName:"Logistics",province:"Bangkok",contactPersons:[{name:"Sarah Johnson",phone:"+66-2-987-6543",email:"sarah@bkk-logistics.com"}],verificationStatus:"Active",dataCompleteness:88,lastUpdated:"2024-12-07",createdBy:"User Import",registeredNo:"0105564222789",companySize:"M"},{id:"3",companyNameEn:"Chiang Mai Automotive Parts Co.",industrialName:"Automotive",province:"Chiang Mai",contactPersons:[{name:"Michael Chen",phone:"+66-53-456-7890"}],verificationStatus:"Needs Verification",dataCompleteness:65,lastUpdated:"2024-12-05",createdBy:"Staff Entry",registeredNo:"0105564333890",companySize:"S"},{id:"4",companyNameEn:"Phuket Tourism Services Ltd.",industrialName:"Tourism",province:"Phuket",contactPersons:[{name:"Lisa Wong",email:"lisa@phuket-tourism.com"}],verificationStatus:"Invalid",dataCompleteness:45,lastUpdated:"2024-11-28",createdBy:"System Import",registeredNo:"0105564444901",companySize:"M"},{id:"5",companyNameEn:"Northeast Agriculture Co-op",industrialName:"Agriculture",province:"Khon Kaen",contactPersons:[{name:"Somchai Prasert",phone:"+66-43-123-4567",email:"somchai@ne-agri.com"}],verificationStatus:"Active",dataCompleteness:92,lastUpdated:"2024-12-06",createdBy:"User Import",registeredNo:"0105564555012",companySize:"L"}],i=[{id:"1",name:"Bangkok Logistics Leads",companyIds:["1","2"],createdAt:"2024-12-01",status:"Active",owner:"user@example.com"},{id:"2",name:"Manufacturing Prospects",companyIds:["1","5"],createdAt:"2024-11-28",status:"Active",owner:"user@example.com"}],r=(e,t)=>{if(!t.trim())return[];let s=t.toLowerCase();return e.filter(e=>{var t,a,i;return e.companyNameEn.toLowerCase().includes(s)||(null==(t=e.registeredNo)?void 0:t.toLowerCase().includes(s))||e.industrialName.toLowerCase().includes(s)||(null==(a=e.province)?void 0:a.toLowerCase().includes(s))||(null==(i=e.contactPersons)?void 0:i.some(e=>{var t,a;return(null==(t=e.name)?void 0:t.toLowerCase().includes(s))||(null==(a=e.email)?void 0:a.toLowerCase().includes(s))}))})},n=(e,t)=>e.filter(e=>(!t.industrial||e.industrialName===t.industrial)&&(!t.province||e.province===t.province)&&(!t.companySize||e.companySize===t.companySize)&&(!t.contactStatus||e.verificationStatus===t.contactStatus)),c=(e,t)=>e.map(e=>({company:e,score:((e,t)=>{let s=0,a=0,i={keyword:!1,keywordScore:0,industrial:!1,industrialScore:0,province:!1,provinceScore:0,companySize:!1,companySizeScore:0,contactStatus:!1,contactStatusScore:0};if(t.keyword&&t.keywordWeight){var r;let n=t.keyword.toLowerCase(),c=e.companyNameEn.toLowerCase().includes(n),l=(null==(r=e.registeredNo)?void 0:r.toLowerCase().includes(n))||!1,d=e.industrialName.toLowerCase().includes(n);(c||l||d)&&(i.keyword=!0,i.keywordScore=t.keywordWeight,s+=t.keywordWeight),a+=t.keywordWeight}t.industrial&&t.industrialWeight&&(a+=t.industrialWeight,e.industrialName===t.industrial&&(i.industrial=!0,i.industrialScore=t.industrialWeight,s+=t.industrialWeight)),t.province&&t.provinceWeight&&(a+=t.provinceWeight,e.province===t.province&&(i.province=!0,i.provinceScore=t.provinceWeight,s+=t.provinceWeight)),t.companySize&&t.companySizeWeight&&(a+=t.companySizeWeight,e.companySize===t.companySize&&(i.companySize=!0,i.companySizeScore=t.companySizeWeight,s+=t.companySizeWeight)),t.contactStatus&&t.contactStatusWeight&&(a+=t.contactStatusWeight,e.verificationStatus===t.contactStatus&&(i.contactStatus=!0,i.contactStatusScore=t.contactStatusWeight,s+=t.contactStatusWeight));let n=a>0?Math.round(s/a*100):0;return{companyId:e.id,score:s,maxPossibleScore:a,normalizedScore:n,matchingSummary:i}})(e,t)})).filter(e=>{let s=t.minimumScore||0;return e.score.normalizedScore>=s}).sort((e,t)=>t.score.normalizedScore-e.score.normalizedScore),l=(e,t,s)=>{let r=i.find(t=>t.id===e);if(!r)throw Error("LIST_NOT_FOUND");let n=[],c=[];return t.forEach(e=>a.find(t=>t.id===e)?r.companyIds.includes(e)?void c.push({companyId:e,reason:"DUPLICATE"}):void(r.companyIds.push(e),n.push(e)):void c.push({companyId:e,reason:"NOT_FOUND"})),{added:n,skipped:c}},d=(e,t)=>{let s=i.find(t=>t.id===e);if(!s)throw Error("LIST_NOT_FOUND");let a=[],r=[];return t.forEach(e=>{let t=s.companyIds.indexOf(e);-1!==t?(s.companyIds.splice(t,1),a.push(e)):r.push(e)}),{removed:a,missing:r}},o=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user@example.com",a={id:"list-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,8)),name:e,companyIds:[],createdAt:new Date().toISOString(),status:"Active",owner:s};return i.push(a),a},m=e=>i.filter(t=>t.companyIds.includes(e))},32673:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>h,gC:()=>u,l6:()=>d,yv:()=>o});var a=s(54568);s(7620);var i=s(6851),r=s(72116),n=s(6438),c=s(80021),l=s(826);function d(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...t})}function o(e){let{...t}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:s="default",children:n,...c}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":s,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...c,children:[n,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:t,children:s,position:r="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(i.LM,{className:(0,l.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(p,{})]})})}function h(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:s})]})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(c.A,{className:"size-4"})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(r.A,{className:"size-4"})})}},83991:(e,t,s)=>{Promise.resolve().then(s.bind(s,92080))},92080:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(54568),i=s(70463),r=s(62063),n=s(766),c=s(5239),l=s(32673),d=s(79886),o=s(65087),m=s(75724),u=s(94503),h=s(65236),x=s(78875),p=s(62070),g=s(57948),v=s(2994),j=s(61145),f=s(84990),y=s(52744),N=s(74717),b=s(24643);let S=(0,r.oC)(["staff","admin"])(function(){let e=n._J.length,t=n._J.filter(e=>"Active"===e.verificationStatus).length,s=n._J.filter(e=>"Needs Verification"===e.verificationStatus).length,r=n._J.filter(e=>"Invalid"===e.verificationStatus).length,S=Math.round(n._J.reduce((e,t)=>e+t.dataCompleteness,0)/e),w=[{name:"Active",value:Math.round(t/e*100),color:"#10b981"},{name:"Needs Verification",value:Math.round(s/e*100),color:"#f59e0b"},{name:"Invalid",value:Math.round(r/e*100),color:"#ef4444"}],C=Object.entries(n._J.reduce((e,t)=>{let s=t.industrialName;return e[s]=(e[s]||0)+1,e},{})).map(e=>{let[t,s]=e;return{name:t,count:s}}),k=Object.entries(n._J.reduce((e,t)=>{let s=t.province;return e[s]=(e[s]||0)+1,e},{})).map(e=>{let[t,s]=e;return{name:t,count:s}}),z={"90-100%":0,"80-89%":0,"70-79%":0,"60-69%":0,"50-59%":0,"Below 50%":0};n._J.forEach(e=>{let t=e.dataCompleteness;t>=90?z["90-100%"]++:t>=80?z["80-89%"]++:t>=70?z["70-79%"]++:t>=60?z["60-69%"]++:t>=50?z["50-59%"]++:z["Below 50%"]++});let A=Object.entries(z).map(e=>{let[t,s]=e;return{range:t,count:s}});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(i.V,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track performance and data quality metrics"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(l.l6,{defaultValue:"30days",children:[(0,a.jsx)(l.bq,{className:"w-48",children:(0,a.jsx)(l.yv,{placeholder:"Select time period"})}),(0,a.jsxs)(l.gC,{children:[(0,a.jsx)(l.eb,{value:"7days",children:"Last 7 days"}),(0,a.jsx)(l.eb,{value:"30days",children:"Last 30 days"}),(0,a.jsx)(l.eb,{value:"90days",children:"Last 90 days"}),(0,a.jsx)(l.eb,{value:"12months",children:"Last 12 months"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"Total Companies"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"In your database"})]})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),"Active Companies"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,a.jsxs)("p",{className:"text-xs text-green-600",children:[Math.round(t/e*100),"% of total"]})]})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),"Needs Review"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s+r}),(0,a.jsx)("p",{className:"text-xs text-orange-600",children:"Verification required"})]})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),"Data Quality"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[S,"%"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Avg. completeness"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Industry Distribution"}),(0,a.jsx)(c.BT,{children:"Companies by industry sector"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.E,{data:C,children:[(0,a.jsx)(m.d,{strokeDasharray:"3 3"}),(0,a.jsx)(u.W,{dataKey:"name"}),(0,a.jsx)(h.h,{}),(0,a.jsx)(x.m,{}),(0,a.jsx)(p.y,{dataKey:"count",fill:"#3b82f6",name:"Companies"})]})})})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Data Quality Status"}),(0,a.jsx)(c.BT,{children:"Distribution of verification statuses"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(g.r,{children:[(0,a.jsx)(v.F,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",children:w.map((e,t)=>(0,a.jsx)(j.f,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(x.m,{formatter:e=>"".concat(e,"%")})]})})}),(0,a.jsx)("div",{className:"flex justify-center gap-4 mt-4",children:w.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm",children:e.name})]},e.name))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Geographic Distribution"}),(0,a.jsx)(c.BT,{children:"Companies by province"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.E,{data:k,children:[(0,a.jsx)(m.d,{strokeDasharray:"3 3"}),(0,a.jsx)(u.W,{dataKey:"name"}),(0,a.jsx)(h.h,{}),(0,a.jsx)(x.m,{}),(0,a.jsx)(p.y,{dataKey:"count",fill:"#10b981",name:"Companies"})]})})})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Data Completeness"}),(0,a.jsx)(c.BT,{children:"Distribution of data quality scores"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(d.u,{width:"100%",height:"100%",children:(0,a.jsxs)(o.E,{data:A,children:[(0,a.jsx)(m.d,{strokeDasharray:"3 3"}),(0,a.jsx)(u.W,{dataKey:"range"}),(0,a.jsx)(h.h,{}),(0,a.jsx)(x.m,{}),(0,a.jsx)(p.y,{dataKey:"count",fill:"#f59e0b",name:"Companies"})]})})})})]})]}),(0,a.jsxs)(c.Zp,{className:"mt-6",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-amber-500"}),"Future Features (Not Yet Available)"]}),(0,a.jsx)(c.BT,{children:"The following features will be implemented in future releases with platform admin access"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Sales Activity Tracking"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: Track sales activities and performance"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Sales Rep Performance"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: Individual representative analytics"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Activity Trends"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: Historical performance trends"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Lead Scoring Analytics"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: AI-powered lead insights"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Platform-wide Metrics"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: Cross-customer aggregated data"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:"Advanced Reporting"}),(0,a.jsx)("div",{className:"text-gray-600 mt-1",children:"Future: Custom reports and data exports"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-blue-800 text-sm",children:[(0,a.jsx)("strong",{children:"Current Scope:"})," As a customer admin, you see reports based only on your organization's company data. Call tracking, sales metrics, and platform-wide analytics are not yet available but will be added with future platform admin features."]})})]})]})]})]})})}},e=>{e.O(0,[526,435,159,797,6,409,587,18,358],()=>e(e.s=83991)),_N_E=e.O()}]);