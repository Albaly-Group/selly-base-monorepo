(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{956:(e,s,t)=>{Promise.resolve().then(t.bind(t,67543))},13679:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},32011:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},32673:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>u,gC:()=>m,l6:()=>c,yv:()=>o});var a=t(54568);t(7620);var r=t(6851),l=t(72116),n=t(6438),i=t(80021),d=t(826);function c(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:n,...i}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[n,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:l="popper",...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(p,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(h,{})]})})}function u(e){let{className:s,children:t,...l}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}},58597:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>u,L3:()=>p,c7:()=>m,lG:()=>i,rr:()=>h,zM:()=>d});var a=t(54568);t(7620);var r=t(39214),l=t(12598),n=t(826);function i(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...s})}function d(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...s})}function c(e){let{...s}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function x(e){let{className:s,children:t,showCloseButton:i=!0,...d}=e;return(0,a.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...d,children:[t,i&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}},62737:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>c,j7:()=>i,tU:()=>n});var a=t(54568);t(7620);var r=t(20154),l=t(826);function n(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",s),...t})}},67543:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var a=t(54568),r=t(7620),l=t(70463),n=t(6845),i=t(58597),d=t(18107),c=t(60421),o="Progress",[x,m]=(0,d.A)(o),[u,p]=x(o),h=r.forwardRef((e,s)=>{var t,r,l,n;let{__scopeProgress:i,value:d=null,max:o,getValueLabel:x=f,...m}=e;(o||0===o)&&!N(o)&&console.error((t="".concat(o),r="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let p=N(o)?o:100;null===d||y(d,p)||console.error((l="".concat(d),n="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=y(d,p)?d:null,g=b(h)?x(h,p):void 0;return(0,a.jsx)(u,{scope:i,value:h,max:p,children:(0,a.jsx)(c.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":b(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":j(h,p),"data-value":null!=h?h:void 0,"data-max":p,...m,ref:s})})});h.displayName=o;var g="ProgressIndicator",v=r.forwardRef((e,s)=>{var t;let{__scopeProgress:r,...l}=e,n=p(g,r);return(0,a.jsx)(c.sG.div,{"data-state":j(n.value,n.max),"data-value":null!=(t=n.value)?t:void 0,"data-max":n.max,...l,ref:s})});function f(e,s){return"".concat(Math.round(e/s*100),"%")}function j(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function b(e){return"number"==typeof e}function N(e){return b(e)&&!isNaN(e)&&e>0}function y(e,s){return b(e)&&!isNaN(e)&&e<=s&&e>=0}v.displayName=g;var w=t(826);let k=r.forwardRef((e,s)=>{let{className:t,value:r,...l}=e;return(0,a.jsx)(h,{ref:s,className:(0,w.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});k.displayName=h.displayName;var A=t(68350),C=t(97013),_=t(32673),R=t(32011),z=t(75892),I=t(52744),M=t(74717);function E(e){let{open:s,onOpenChange:t}=e,[l,d]=(0,r.useState)("upload"),[c,o]=(0,r.useState)(null),[x,m]=(0,r.useState)(0),[u,p]=(0,r.useState)({}),h=["Company Name","Registration No","Industry Type","Province","Contact Name","Phone Number","Email Address","Website"],g={company_name_en:"Company Name (English)",registration_id:"Registration ID (13 digits)",industry_name:"Industry/Sector",province:"Province",contact_name:"Contact Person Name",phone:"Phone Number",email:"Email Address",website:"Website URL"},v=e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];t&&(o(t),d("mapping"))},f=()=>{switch(l){case"upload":return null!==c;case"mapping":return Object.keys(u).length>0;default:return!1}};return(0,a.jsx)(i.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(i.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(i.c7,{children:[(0,a.jsx)(i.L3,{children:(()=>{switch(l){case"upload":return"Upload File";case"mapping":return"Map Columns";case"validation":return"Validate Data";case"processing":return"Processing Import";case"complete":return"Import Complete";default:return"Import Data"}})()}),(0,a.jsxs)(i.rr,{children:["upload"===l&&"Select a file to import company data","mapping"===l&&"Map your file columns to system fields","validation"===l&&"Checking data quality and format","processing"===l&&"Importing data into the system","complete"===l&&"Import process finished"]})]}),(0,a.jsx)("div",{className:"min-h-[300px]",children:(()=>{switch(l){case"upload":return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,a.jsx)(R.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,a.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Choose Excel (.xlsx) or CSV (.csv) file"}),(0,a.jsx)("span",{className:"mt-1 block text-sm text-gray-500",children:"Maximum 50,000 rows"})]}),(0,a.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".xlsx,.csv",onChange:v})]})]})});case"mapping":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(z.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:null==c?void 0:c.name}),(0,a.jsxs)(A.E,{variant:"secondary",children:[h.length," columns detected"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Map your columns to system fields:"}),Object.entries(g).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:t}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:s})]}),(0,a.jsxs)(_.l6,{value:u[s]||"",onValueChange:e=>{p(t=>({...t,[s]:e}))},children:[(0,a.jsx)(_.bq,{className:"w-48",children:(0,a.jsx)(_.yv,{placeholder:"Select column..."})}),(0,a.jsxs)(_.gC,{children:[(0,a.jsx)(_.eb,{value:"",children:"Skip this field"}),h.map(e=>(0,a.jsx)(_.eb,{value:e,children:e},e))]})]})]},s)})]})]});case"validation":return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-2",children:"Validating data..."})]})});case"processing":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Processing records..."}),(0,a.jsxs)("span",{children:[Math.round(x),"%"]})]}),(0,a.jsx)(k,{value:x,className:"w-full"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(x/100*1180)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Processed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:1250-Math.round(x/100*1180)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:70}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Errors"})]})]})]});case"complete":return(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)(I.A,{className:"mx-auto h-16 w-16 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Import Completed!"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Successfully processed ",1180," records"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:1180}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Imported"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:70}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Errors"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:1250}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total"})]})]}),(0,a.jsxs)(C.Fc,{children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsxs)(C.TN,{children:[70," records had errors.",(0,a.jsx)(n.$,{variant:"link",className:"p-0 h-auto ml-1",children:"Download error report"})]})]})]});default:return null}})()}),(0,a.jsxs)(i.Es,{children:["upload"===l&&(0,a.jsx)(n.$,{disabled:!f(),onClick:()=>d("mapping"),children:"Next: Map Columns"}),"mapping"===l&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>d("upload"),children:"Back"}),(0,a.jsx)(n.$,{disabled:!f(),onClick:()=>{d("validation"),setTimeout(()=>{d("processing"),(()=>{let e=0,s=setInterval(()=>{(e+=15*Math.random())>=100&&(e=100,clearInterval(s),d("complete")),m(e)},200)})()},2e3)},children:"Validate & Import"})]}),"complete"===l&&(0,a.jsx)(n.$,{onClick:()=>t(!1),children:"Close"})]})]})})}var D=t(90551),F=t(72835),P=t(74624),S=t(82078);function V(e){let{jobs:s}=e,t=e=>new Date(e).toLocaleString(),r=e=>{let s=new Blob(['Row,Field,Error\n15,registration_id,"Invalid format: must be 13 digits"\n23,email,"Invalid email format"\n45,registration_id,"Duplicate registration ID found"'],{type:"text/csv"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download="import-errors-".concat(e,".csv"),a.click(),URL.revokeObjectURL(t)};return(0,a.jsx)("div",{className:"bg-white rounded-lg border",children:(0,a.jsxs)(D.XI,{children:[(0,a.jsx)(D.A0,{children:(0,a.jsxs)(D.Hj,{children:[(0,a.jsx)(D.nd,{children:"File"}),(0,a.jsx)(D.nd,{children:"Status"}),(0,a.jsx)(D.nd,{children:"Progress"}),(0,a.jsx)(D.nd,{children:"Records"}),(0,a.jsx)(D.nd,{children:"Imported By"}),(0,a.jsx)(D.nd,{children:"Created"}),(0,a.jsx)(D.nd,{children:"Actions"})]})}),(0,a.jsx)(D.BF,{children:s.map(e=>(0,a.jsxs)(D.Hj,{children:[(0,a.jsxs)(D.nA,{children:[(0,a.jsx)("div",{className:"font-medium",children:e.filename}),e.errorMessage&&(0,a.jsx)("div",{className:"text-sm text-red-600 mt-1",children:e.errorMessage})]}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(A.E,{variant:"secondary",className:(e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"completed":return(0,a.jsx)(I.A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,a.jsx)(F.A,{className:"h-4 w-4 text-red-500"});case"processing":return(0,a.jsx)(P.A,{className:"h-4 w-4 text-blue-500"});default:return null}})(e.status),e.status]})})}),(0,a.jsx)(D.nA,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(k,{value:"completed"===e.status?100:"failed"===e.status?0:Math.round(e.processedRows/e.totalRows*100),className:"w-24"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.processedRows," / ",e.totalRows]})]})}),(0,a.jsx)(D.nA,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-green-600",children:[e.processedRows," success"]}),e.errorRows>0&&(0,a.jsxs)("span",{className:"text-red-600",children:[e.errorRows," errors"]})]}),(0,a.jsxs)("div",{className:"text-gray-500",children:["Total: ",e.totalRows]})]})}),(0,a.jsx)(D.nA,{className:"text-sm",children:e.importedBy}),(0,a.jsxs)(D.nA,{className:"text-sm",children:[(0,a.jsx)("div",{children:t(e.createdAt)}),e.completedAt&&(0,a.jsxs)("div",{className:"text-gray-500",children:["Completed: ",t(e.completedAt)]}),e.failedAt&&(0,a.jsxs)("div",{className:"text-red-500",children:["Failed: ",t(e.failedAt)]})]}),(0,a.jsx)(D.nA,{children:(0,a.jsxs)("div",{className:"flex gap-1",children:["completed"===e.status&&e.errorRows>0&&(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"gap-1",children:[(0,a.jsx)(S.A,{className:"h-3 w-3"}),"Errors"]}),"failed"===e.status&&(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"gap-1",children:[(0,a.jsx)(S.A,{className:"h-3 w-3"}),"Details"]})]})})]},e.id))})]})})}var T=t(62063),U=t(5239),L=t(62737),Z=t(13679);let B=(0,T.oC)(["admin"])(function(){let[e,s]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.V,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Data Import"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Import company data from Excel/CSV files with validation and mapping"})]}),(0,a.jsxs)(L.tU,{defaultValue:"upload",className:"space-y-6",children:[(0,a.jsxs)(L.j7,{children:[(0,a.jsxs)(L.Xi,{value:"upload",className:"flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"}),"Upload File"]}),(0,a.jsxs)(L.Xi,{value:"jobs",className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4"}),"Import Jobs"]})]}),(0,a.jsxs)(L.av,{value:"upload",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(U.Zp,{children:[(0,a.jsx)(U.aR,{children:(0,a.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"h-5 w-5"}),"Supported Formats"]})}),(0,a.jsxs)(U.Wu,{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:"Excel (.xlsx)"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Up to 50,000 rows"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:"CSV (.csv)"}),(0,a.jsx)("div",{className:"text-gray-600",children:"UTF-8 encoding required"})]})]})]}),(0,a.jsxs)(U.Zp,{children:[(0,a.jsx)(U.aR,{children:(0,a.jsx)(U.ZB,{children:"Required Fields"})}),(0,a.jsxs)(U.Wu,{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"company_name_en"})," - Company name (English)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"registration_id"})," - 13-digit Thai registration ID"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Optional:"})," industry, province, contact details"]})]})]}),(0,a.jsxs)(U.Zp,{children:[(0,a.jsx)(U.aR,{children:(0,a.jsx)(U.ZB,{children:"Data Processing"})}),(0,a.jsxs)(U.Wu,{className:"space-y-1 text-sm",children:[(0,a.jsx)("div",{children:"• Auto-detection of column mapping"}),(0,a.jsx)("div",{children:"• Validation and error reporting"}),(0,a.jsx)("div",{children:"• Duplicate detection by registration ID"}),(0,a.jsx)("div",{children:"• Merge or create new records"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(n.$,{onClick:()=>s(!0),size:"lg",className:"gap-2",children:[(0,a.jsx)(R.A,{className:"h-5 w-5"}),"Start New Import"]})})]}),(0,a.jsx)(L.av,{value:"jobs",className:"space-y-6",children:(0,a.jsx)(V,{jobs:[{id:"1",filename:"companies_q4_2024.xlsx",status:"completed",totalRows:1250,processedRows:1180,errorRows:70,createdAt:"2024-12-08T14:30:00Z",completedAt:"2024-12-08T14:32:15Z",importedBy:"admin@example.com"},{id:"2",filename:"prospect_list_bangkok.csv",status:"processing",totalRows:850,processedRows:420,errorRows:12,createdAt:"2024-12-08T15:15:00Z",importedBy:"staff@example.com"},{id:"3",filename:"vendor_contacts.xlsx",status:"failed",totalRows:320,processedRows:0,errorRows:320,createdAt:"2024-12-08T13:45:00Z",failedAt:"2024-12-08T13:46:30Z",importedBy:"admin@example.com",errorMessage:"Invalid file format: Missing required column 'registration_id'"}]})})]}),(0,a.jsx)(E,{open:e,onOpenChange:s})]})]})})},68350:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(54568);t(7620);var r=t(46118),l=t(54616),n=t(826);let i=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,asChild:l=!1,...d}=e,c=l?r.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(i({variant:t}),s),...d})}},72835:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},74624:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},75892:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},82078:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92068).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},90551:(e,s,t)=>{"use strict";t.d(s,{A0:()=>n,BF:()=>i,Hj:()=>d,XI:()=>l,nA:()=>o,nd:()=>c});var a=t(54568);t(7620);var r=t(826);function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",s),...t})})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}},97013:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>i,TN:()=>d});var a=t(54568);t(7620);var r=t(54616),l=t(826);let n=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,l.cn)(n({variant:t}),s),...r})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,l.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}}},e=>{e.O(0,[526,435,159,797,335,409,587,18,358],()=>e(e.s=956)),_N_E=e.O()}]);