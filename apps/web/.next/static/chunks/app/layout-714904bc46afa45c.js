(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{12252:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>g});var a=r(54568),s=r(7620),o=(e,t,r,a,s,o,n,i)=>{let l=document.documentElement,c=["light","dark"];function m(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&o?s.map(e=>o[e]||e):s;r?(l.classList.remove(...a),l.classList.add(o&&o[t]?o[t]:t)):l.setAttribute(e,t)}),r=t,i&&c.includes(r)&&(l.style.colorScheme=r)}if(a)m(a);else try{let e=localStorage.getItem(t)||r,a=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;m(a)}catch(e){}},n=["light","dark"],i="(prefers-color-scheme: dark)",l=s.createContext(void 0),c=e=>s.useContext(l)?s.createElement(s.Fragment,null,e.children):s.createElement(u,{...e}),m=["light","dark"],u=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:a=!0,enableColorScheme:o=!0,storageKey:c="theme",themes:u=m,defaultTheme:g=a?"system":"light",attribute:y="data-theme",value:_,children:v,nonce:b,scriptProps:x}=e,[S,T]=s.useState(()=>h(c,g)),[w,C]=s.useState(()=>"system"===S?p():S),N=_?Object.values(_):u,j=s.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=p());let s=_?_[t]:t,i=r?f(b):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...N),s&&l.classList.add(s)):e.startsWith("data-")&&(s?l.setAttribute(e,s):l.removeAttribute(e))};if(Array.isArray(y)?y.forEach(c):c(y),o){let e=n.includes(g)?g:null,r=n.includes(t)?t:e;l.style.colorScheme=r}null==i||i()},[b]),E=s.useCallback(e=>{let t="function"==typeof e?e(S):e;T(t);try{localStorage.setItem(c,t)}catch(e){}},[S]),k=s.useCallback(e=>{C(p(e)),"system"===S&&a&&!t&&j("system")},[S,t]);s.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(k),k(e),()=>e.removeListener(k)},[k]),s.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?T(e.newValue):E(g))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),s.useEffect(()=>{j(null!=t?t:S)},[t,S]);let Z=s.useMemo(()=>({theme:S,setTheme:E,forcedTheme:t,resolvedTheme:"system"===S?w:S,themes:a?[...u,"system"]:u,systemTheme:a?w:void 0}),[S,E,t,w,a,u]);return s.createElement(l.Provider,{value:Z},s.createElement(d,{forcedTheme:t,storageKey:c,attribute:y,enableSystem:a,enableColorScheme:o,defaultTheme:g,value:_,themes:u,nonce:b,scriptProps:x}),v)},d=s.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:a,enableSystem:n,enableColorScheme:i,defaultTheme:l,value:c,themes:m,nonce:u,scriptProps:d}=e,h=JSON.stringify([a,r,l,t,m,c,n,i]).slice(1,-1);return s.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(o.toString(),")(").concat(h,")")}})}),h=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light");function g(e){let{children:t,...r}=e,[o,n]=s.useState(!1);return(s.useEffect(()=>{n(!0)},[]),o)?(0,a.jsx)(c,{...r,children:t}):(0,a.jsx)(a.Fragment,{children:t})}},13210:()=>{},31163:e=>{e.exports={style:{fontFamily:"'GeistSans', 'GeistSans Fallback'"},className:"__className_fb8f2c",variable:"__variable_fb8f2c"}},43414:(e,t,r)=>{Promise.resolve().then(r.bind(r,12252)),Promise.resolve().then(r.bind(r,62063)),Promise.resolve().then(r.t.bind(r,31163,23)),Promise.resolve().then(r.t.bind(r,83395,23)),Promise.resolve().then(r.t.bind(r,13210,23))},62063:(e,t,r)=>{"use strict";r.d(t,{A9:()=>g,As:()=>l,AuthProvider:()=>i,DQ:()=>v,E$:()=>u,J$:()=>h,Ld:()=>d,Zq:()=>p,fg:()=>f,l9:()=>y,nG:()=>_,oC:()=>c,zF:()=>m});var a=r(54568),s=r(7620);let o=(0,s.createContext)(void 0),n=[{id:"1",email:"user@selly.com",name:"John User",role:"user",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"password123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",email:"staff@selly.com",name:"Jane Staff",role:"staff",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"staff123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"3",email:"admin@selly.com",name:"Legacy Admin",role:"admin",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"admin123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"4",email:"admin@customer1.com",name:"Customer Admin",role:"customer_admin",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"admin123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"5",email:"platform@albaly.com",name:"Platform Admin",role:"platform_admin",organization_id:null,organization:null,password:"platform123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}];function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("selly-user");if(e)try{let t=JSON.parse(e);i(t),document.cookie.includes("selly-user=")||(document.cookie="selly-user=".concat(JSON.stringify(t),"; path=/; max-age=").concat(604800,"; SameSite=Lax"))}catch(e){localStorage.removeItem("selly-user")}c(!1)},[]);let m=async(e,t)=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3));let r=n.find(r=>r.email===e&&r.password===t);if(r){let{password:e,role:t,...a}=r,s={...a,role:t};return i(s),localStorage.setItem("selly-user",JSON.stringify(s)),document.cookie="selly-user=".concat(JSON.stringify(s),"; path=/; max-age=").concat(604800,"; SameSite=Lax"),c(!1),!0}return c(!1),!1}catch(e){return console.error("Login error:",e),c(!1),!1}};return(0,a.jsx)(o.Provider,{value:{user:r,login:m,logout:()=>{i(null),localStorage.removeItem("selly-user"),document.cookie="selly-user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},isLoading:l},children:t})}function l(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){return t=>function(r){let{user:s,isLoading:o}=l();return o?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-lg",children:"Loading..."})}):s?e&&s.role&&!e.includes(s.role)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-red-600",children:"Access Denied"}),(0,a.jsx)("p",{children:"You don't have permission to access this page."}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Required role: ",e.join(" or ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Your role: ",s.role]})]})}):(0,a.jsx)(t,{...r}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Required"}),(0,a.jsx)("p",{children:"Please log in to access this page."})]})})}}function m(e){return"platform_admin"===e.role}function u(e){return"customer_admin"===e.role||"admin"===e.role}function d(e){return"admin"===e.role}function h(e){return m(e)}function f(e){return m(e)}function p(e){return m(e)}function g(e){return m(e)}function y(e){return m(e)}function _(e){return u(e)||d(e)}function v(e){return u(e)||d(e)}},83395:e=>{e.exports={style:{fontFamily:"'GeistMono', ui-monospace, SFMono-Regular, Roboto Mono, Menlo, Monaco, Liberation Mono, DejaVu Sans Mono, Courier New, monospace"},className:"__className_f910ec",variable:"__variable_f910ec"}}},e=>{e.O(0,[89,587,18,358],()=>e(e.s=43414)),_N_E=e.O()}]);