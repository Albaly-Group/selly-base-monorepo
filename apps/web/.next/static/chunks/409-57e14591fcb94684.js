"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{826:(e,t,a)=>{a.d(t,{cn:()=>o});var n=a(72902),r=a(13714);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}},5239:(e,t,a)=>{a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>o,aR:()=>s});var n=a(54568);a(7620);var r=a(826);function o(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function s(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function c(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},6845:(e,t,a)=>{a.d(t,{$:()=>c});var n=a(54568);a(7620);var r=a(46118),o=a(54616),s=a(826);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:o,asChild:c=!1,...d}=e,l=c?r.DX:"button";return(0,n.jsx)(l,{"data-slot":"button",className:(0,s.cn)(i({variant:a,size:o,className:t})),...d})}},62063:(e,t,a)=>{a.d(t,{A9:()=>p,As:()=>c,AuthProvider:()=>i,DQ:()=>b,E$:()=>u,J$:()=>f,Ld:()=>m,Zq:()=>g,fg:()=>x,l9:()=>v,nG:()=>h,oC:()=>d,zF:()=>l});var n=a(54568),r=a(7620);let o=(0,r.createContext)(void 0),s=[{id:"1",email:"user@selly.com",name:"John User",role:"user",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"password123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",email:"staff@selly.com",name:"Jane Staff",role:"staff",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"staff123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"3",email:"admin@selly.com",name:"Legacy Admin",role:"admin",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"admin123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"4",email:"admin@customer1.com",name:"Customer Admin",role:"customer_admin",organization_id:"org_customer1",organization:{id:"org_customer1",name:"Customer Company 1",domain:"customer1.com",status:"active",subscription_tier:"professional",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},password:"admin123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"5",email:"platform@albaly.com",name:"Platform Admin",role:"platform_admin",organization_id:null,organization:null,password:"platform123",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}];function i(e){let{children:t}=e,[a,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("selly-user");if(e)try{let t=JSON.parse(e);i(t),document.cookie.includes("selly-user=")||(document.cookie="selly-user=".concat(JSON.stringify(t),"; path=/; max-age=").concat(604800,"; SameSite=Lax"))}catch(e){localStorage.removeItem("selly-user")}d(!1)},[]);let l=async(e,t)=>{d(!0);try{await new Promise(e=>setTimeout(e,1e3));let a=s.find(a=>a.email===e&&a.password===t);if(a){let{password:e,role:t,...n}=a,r={...n,role:t};return i(r),localStorage.setItem("selly-user",JSON.stringify(r)),document.cookie="selly-user=".concat(JSON.stringify(r),"; path=/; max-age=").concat(604800,"; SameSite=Lax"),d(!1),!0}return d(!1),!1}catch(e){return console.error("Login error:",e),d(!1),!1}};return(0,n.jsx)(o.Provider,{value:{user:a,login:l,logout:()=>{i(null),localStorage.removeItem("selly-user"),document.cookie="selly-user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},isLoading:c},children:t})}function c(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){return t=>function(a){let{user:r,isLoading:o}=c();return o?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"text-lg",children:"Loading..."})}):r?e&&r.role&&!e.includes(r.role)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-red-600",children:"Access Denied"}),(0,n.jsx)("p",{children:"You don't have permission to access this page."}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Required role: ",e.join(" or ")]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Your role: ",r.role]})]})}):(0,n.jsx)(t,{...a}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Required"}),(0,n.jsx)("p",{children:"Please log in to access this page."})]})})}}function l(e){return"platform_admin"===e.role}function u(e){return"customer_admin"===e.role||"admin"===e.role}function m(e){return"admin"===e.role}function f(e){return l(e)}function x(e){return l(e)}function g(e){return l(e)}function p(e){return l(e)}function v(e){return l(e)}function h(e){return u(e)||m(e)}function b(e){return u(e)||m(e)}},70463:(e,t,a)=>{a.d(t,{V:()=>j});var n=a(54568),r=a(62063),o=a(6845);a(7620);var s=a(30718),i=a(54616),c=a(826);function d(e){let{className:t,children:a,viewport:r=!0,...o}=e;return(0,n.jsxs)(s.bL,{"data-slot":"navigation-menu","data-viewport":r,className:(0,c.cn)("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...o,children:[a,r&&(0,n.jsx)(m,{})]})}function l(e){let{className:t,...a}=e;return(0,n.jsx)(s.B8,{"data-slot":"navigation-menu-list",className:(0,c.cn)("group flex flex-1 list-none items-center justify-center gap-1",t),...a})}function u(e){let{className:t,...a}=e;return(0,n.jsx)(s.q7,{"data-slot":"navigation-menu-item",className:(0,c.cn)("relative",t),...a})}function m(e){let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,c.cn)("absolute top-full left-0 isolate z-50 flex justify-center"),children:(0,n.jsx)(s.LM,{"data-slot":"navigation-menu-viewport",className:(0,c.cn)("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...a})})}function f(e){let{className:t,...a}=e;return(0,n.jsx)(s.N_,{"data-slot":"navigation-menu-link",className:(0,c.cn)("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...a})}(0,i.F)("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");var x=a(17531);function g(e){let{className:t,...a}=e;return(0,n.jsx)(x.bL,{"data-slot":"avatar",className:(0,c.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function p(e){let{className:t,...a}=e;return(0,n.jsx)(x.H4,{"data-slot":"avatar-fallback",className:(0,c.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var v=a(91926),h=a(19664),b=a.n(h);function j(){let{user:e,logout:t}=(0,r.As)();return e?(0,n.jsx)("header",{className:"border-b bg-white",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,n.jsx)(b(),{href:"/",className:"text-xl font-bold text-primary",children:"Selly Base"}),(0,n.jsx)(d,{children:(0,n.jsxs)(l,{children:[!(0,r.zF)(e)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/lookup",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Company Lookup"})})}),(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/lists",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"My Lists"})})})]}),("staff"===e.role||(0,r.E$)(e)||(0,r.Ld)(e))&&!(0,r.zF)(e)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/staff",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Database Management"})})}),(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/reports",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Reports"})})})]}),!(0,r.zF)(e)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/imports",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Imports"})})}),(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/exports",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Exports"})})})]}),(0,r.nG)(e)&&(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/admin",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Organization Admin"})})}),(0,r.J$)(e)&&(0,n.jsx)(u,{children:(0,n.jsx)(b(),{href:"/platform-admin",legacyBehavior:!0,passHref:!0,children:(0,n.jsx)(f,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Platform Admin"})})})]})})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)(v.rI,{children:[(0,n.jsx)(v.ty,{asChild:!0,children:(0,n.jsx)(o.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,n.jsx)(g,{className:"h-8 w-8",children:(0,n.jsx)(p,{children:e.name.split(" ").map(e=>e[0]).join("")})})})}),(0,n.jsxs)(v.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,n.jsx)("div",{className:"flex items-center justify-start gap-2 p-2",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1 leading-none",children:[(0,n.jsx)("p",{className:"font-medium",children:e.name}),(0,n.jsx)("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:e.email}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:e.role})]})}),(0,n.jsx)(v.mB,{}),(0,n.jsx)(v._2,{onClick:t,children:"Log out"})]})]})})]})})}):null}},91926:(e,t,a)=>{a.d(t,{SQ:()=>c,_2:()=>d,mB:()=>l,rI:()=>s,ty:()=>i});var n=a(54568);a(7620);var r=a(94882),o=a(826);function s(e){let{...t}=e;return(0,n.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,n.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function c(e){let{className:t,sideOffset:a=4,...s}=e;return(0,n.jsx)(r.ZL,{children:(0,n.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function d(e){let{className:t,inset:a,variant:s="default",...i}=e;return(0,n.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":s,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function l(e){let{className:t,...a}=e;return(0,n.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,o.cn)("bg-border -mx-1 my-1 h-px",t),...a})}}}]);