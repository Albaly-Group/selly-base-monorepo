"use strict";exports.id=66,exports.ids=[66],exports.modules={40754:(a,b,c)=>{c.d(b,{w:()=>h});var d=c(78157),e=c(31768),f=c(35259),g=c(75704);let h=e.forwardRef(({className:a,orientation:b="horizontal",decorative:c=!0,...e},h)=>(0,d.jsx)(f.b,{ref:h,decorative:c,orientation:b,className:(0,g.cn)("shrink-0 bg-border","horizontal"===b?"h-[1px] w-full":"h-full w-[1px]",a),...e}));h.displayName=f.b.displayName},52999:(a,b,c)=>{c.d(b,{z:()=>m});var d=c(78157),e=c(31768),f=c(3964),g=c(44527),h=c(85719),i=c(97457),j=c(30531),k=c(46859),l=c(85608);function m({open:a,onOpenChange:b,selectedCompanyIds:c,onSuccess:m}){let[n,o]=(0,e.useState)("existing"),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(null),z=async()=>{w(!0),y(null);try{let a=p;if("new"===n){if(!r.trim()){y({type:"error",text:"Please enter a list name."}),w(!1);return}let b=(0,f.ao)(r.trim(),t.trim()||void 0);a=b.id,console.log("Created new list:",b)}if(!a){y({type:"error",text:"Please select a list."}),w(!1);return}let d=(0,f.cg)(a,c),e="";if(d.added.length>0&&(e=`Successfully added ${d.added.length} companies to the list.`),d.skipped.length>0){let a=d.skipped.filter(a=>"DUPLICATE"===a.reason).length,b=d.skipped.filter(a=>"NOT_FOUND"===a.reason).length;a>0&&(e+=` ${a} already in list.`),b>0&&(e+=` ${b} companies not found.`)}y({type:"success",text:e}),await new Promise(a=>setTimeout(a,500)),console.log("Add to list result:",d),setTimeout(()=>{m(),b(!1),o("existing"),q(""),s(""),u(""),y(null)},1500)}catch(a){console.error("Error adding companies to list:",a),y({type:"error",text:a.message||"Failed to add companies to list. Please try again."})}finally{w(!1)}},A="existing"===n?p:r.trim();return(0,d.jsx)(j.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(j.Cf,{className:"sm:max-w-md",children:[(0,d.jsxs)(j.c7,{children:[(0,d.jsx)(j.L3,{children:"Add Companies to List"}),(0,d.jsxs)(j.rr,{children:["Add ",c.length," selected companies to a list."]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[x&&(0,d.jsx)("div",{className:`p-3 rounded-md text-sm ${"success"===x.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:x.text}),(0,d.jsxs)(l.z,{value:n,onValueChange:a=>o(a),children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(l.C,{value:"existing",id:"existing"}),(0,d.jsx)(i.J,{htmlFor:"existing",children:"Add to existing list"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(l.C,{value:"new",id:"new"}),(0,d.jsx)(i.J,{htmlFor:"new",children:"Create new list"})]})]}),"existing"===n&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"list-select",children:"Select List"}),(0,d.jsxs)(k.l6,{value:p,onValueChange:q,children:[(0,d.jsx)(k.bq,{children:(0,d.jsx)(k.yv,{placeholder:"Choose a list..."})}),(0,d.jsx)(k.gC,{children:f.pQ.map(a=>(0,d.jsxs)(k.eb,{value:a.id,children:[a.name," (",a.companyIds.length," companies)"]},a.id))})]})]}),"new"===n&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"new-list-name",children:"List Name *"}),(0,d.jsx)(h.p,{id:"new-list-name",placeholder:"Enter list name...",value:r,onChange:a=>s(a.target.value),required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"new-list-description",children:"Description (Optional)"}),(0,d.jsx)(h.p,{id:"new-list-description",placeholder:"Enter list description...",value:t,onChange:a=>u(a.target.value)})]})]})]}),(0,d.jsxs)(j.Es,{children:[(0,d.jsx)(g.$,{variant:"outline",onClick:()=>b(!1),disabled:v,children:"Cancel"}),(0,d.jsx)(g.$,{onClick:z,disabled:!A||v,children:v?"Processing...":"new"===n?"Create List & Add":"Add to List"})]})]})})}},71823:(a,b,c)=>{c.d(b,{i:()=>G});var d=c(78157),e=c(31768),f=c(44527),g=c(31942),h=c(70089),i=c(90895),j=c(85719),k=c(97457),l=c(23677),m=c(46859),n=c(30531),o=c(2407),p=c(82333),q=c(52999),r=c(3964),s=c(5782),t=c(36564),u=c(32903),v=c(53574),w=c(5366),x=c(97452),y=c(89861),z=c(54809),A=c(26724),B=c(69798),C=c(51383),D=c(94296),E=c(65740),F=c(40492);function G({company:a,open:b,onOpenChange:c,onCompanyUpdated:G}){let[H,I]=(0,e.useState)("overview"),[J,K]=(0,e.useState)(!1),[L,M]=(0,e.useState)(!1),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(!1);if(!a)return null;let R={...a,address:"101 Rama IX Rd., Huai Khwang District",district:"Huai Khwang",amphoe:"Huai Khwang",website:"https://example.co.th",description:"Leading technology solutions provider specializing in B2B software development and digital transformation services.",businessType:"Private Limited Company",registrationDate:"2019-03-15",employeeCount:"50-100",registrationDetails:{authority:"Department of Business Development",type:"Private Limited Company",status:"Active",registeredDate:"2019-03-15",country:"Thailand"}},S=(0,r.vQ)(a.id).map(a=>({id:a.id,name:a.name,status:a.status,owner:a.owner,addedDate:a.createdAt.split("T")[0]})),T=a=>{switch(a){case"Active":return"bg-green-100 text-green-800";case"Needs Verification":return"bg-yellow-100 text-yellow-800";case"Invalid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=a=>new Date(a).toLocaleDateString(),V=a=>new Date(a).toLocaleString();return(0,d.jsx)(n.lG,{open:b,onOpenChange:c,children:(0,d.jsxs)(n.Cf,{className:"max-w-[1000px] w-[95vw] h-[90vh] max-h-[900px] overflow-hidden flex flex-col p-0",children:[(0,d.jsx)(n.c7,{className:"px-6 py-4 border-b",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.L3,{className:"text-xl",children:a.companyNameEn}),(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsxs)(g.E,{variant:"secondary",className:T(a.verificationStatus),children:[(a=>{switch(a){case"Active":return(0,d.jsx)(s.A,{className:"h-4 w-4 text-green-500"});case"Needs Verification":return(0,d.jsx)(t.A,{className:"h-4 w-4 text-yellow-500"});case"Invalid":return(0,d.jsx)(u.A,{className:"h-4 w-4 text-red-500"});default:return null}})(a.verificationStatus),a.verificationStatus]}),(0,d.jsx)(g.E,{variant:"outline",children:a.industrialName}),(0,d.jsx)(g.E,{variant:"outline",children:a.province})]}),(0,d.jsxs)(n.rr,{children:["Registration ID: ",a.registeredNo," • Data Completeness: ",a.dataCompleteness,"%"]})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[(0,d.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>O(!0),children:[(0,d.jsx)(z.A,{className:"h-4 w-4 mr-1"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Edit"})]}),(0,d.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>Q(!0),children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"Add to List"}),(0,d.jsx)("span",{className:"sm:hidden",children:"List"})]})]})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-hidden px-6",children:(0,d.jsxs)(i.tU,{value:H,onValueChange:I,className:"h-full flex flex-col",children:[(0,d.jsxs)(i.j7,{className:"grid w-full grid-cols-5 mb-4 text-xs sm:text-sm",children:[(0,d.jsx)(i.Xi,{value:"overview",className:"px-2",children:"Overview"}),(0,d.jsx)(i.Xi,{value:"contacts",className:"px-2",children:"Contacts"}),(0,d.jsx)(i.Xi,{value:"activity",className:"px-2",children:"Activity"}),(0,d.jsx)(i.Xi,{value:"lists",className:"px-2",children:"Lists"}),(0,d.jsx)(i.Xi,{value:"history",className:"px-2",children:"History"})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto pb-6",children:[(0,d.jsxs)(i.av,{value:"overview",className:"space-y-6",children:[(0,d.jsxs)(h.Zp,{children:[(0,d.jsx)(h.aR,{children:(0,d.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(A.A,{className:"h-5 w-5"}),"Company Information"]})}),(0,d.jsxs)(h.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Company Name"}),(0,d.jsx)("div",{className:"mt-1",children:R.companyNameEn})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Industry"}),(0,d.jsx)("div",{className:"mt-1",children:R.industrialName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Business Type"}),(0,d.jsx)("div",{className:"mt-1",children:R.businessType})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Employee Count"}),(0,d.jsx)("div",{className:"mt-1",children:R.employeeCount})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Registration ID"}),(0,d.jsx)("div",{className:"mt-1 font-mono",children:R.registeredNo})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Registration Date"}),(0,d.jsx)("div",{className:"mt-1",children:U(R.registrationDate)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Data Completeness"}),(0,d.jsxs)("div",{className:"mt-1",children:[R.dataCompleteness,"%"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),(0,d.jsx)("div",{className:"mt-1",children:U(R.lastUpdated)})]})]})]}),R.description&&(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,d.jsx)("div",{className:"mt-1 text-sm",children:R.description})]})]})]}),(0,d.jsxs)(h.Zp,{children:[(0,d.jsx)(h.aR,{children:(0,d.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-5 w-5"}),"Location & Contact"]})}),(0,d.jsx)(h.Wu,{className:"space-y-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Address"}),(0,d.jsx)("div",{className:"mt-1",children:R.address})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"District"}),(0,d.jsx)("div",{className:"mt-1",children:R.district})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Province"}),(0,d.jsx)("div",{className:"mt-1",children:R.province})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[R.contactPersons[0]?.phone&&(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Phone"}),(0,d.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,d.jsx)("span",{children:R.contactPersons[0].phone}),(0,d.jsx)(f.$,{variant:"ghost",size:"sm",className:"p-1 h-6",children:(0,d.jsx)(v.A,{className:"h-3 w-3"})})]})]}),R.contactPersons[0]?.email&&(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,d.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,d.jsx)("span",{children:R.contactPersons[0].email}),(0,d.jsx)(f.$,{variant:"ghost",size:"sm",className:"p-1 h-6",children:(0,d.jsx)(C.A,{className:"h-3 w-3"})})]})]}),R.website&&(0,d.jsxs)("div",{children:[(0,d.jsx)(k.J,{className:"text-sm font-medium text-gray-600",children:"Website"}),(0,d.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,d.jsx)("span",{children:R.website}),(0,d.jsx)(f.$,{variant:"ghost",size:"sm",className:"p-1 h-6",children:(0,d.jsx)(D.A,{className:"h-3 w-3"})})]})]})]})]})})]}),(0,d.jsxs)(h.Zp,{children:[(0,d.jsx)(h.aR,{children:(0,d.jsx)(h.ZB,{children:"Quick Actions"})}),(0,d.jsx)(h.Wu,{children:(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsxs)(f.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(s.A,{className:"h-4 w-4 mr-1"}),"Validate Registration"]}),(0,d.jsxs)(f.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Refresh Signals"]}),(0,d.jsxs)(f.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"Add to List"]})]})})]})]}),(0,d.jsxs)(i.av,{value:"contacts",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Contact Persons"}),(0,d.jsxs)(f.$,{onClick:()=>K(!0),size:"sm",className:"gap-1 self-start sm:self-center",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Add Contact"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Add"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:[{id:"1",name:"Somchai Prasert",title:"Chief Technology Officer",department:"Technology",phone:"+66-2-123-4567",email:"somchai@example.co.th",linkedin:"https://linkedin.com/in/somchai-prasert",isDecisionMaker:!0,status:"Active",lastVerified:"2024-12-05"},{id:"2",name:"Sarah Johnson",title:"Business Development Manager",department:"Sales",phone:"+66-2-123-4568",email:"sarah@example.co.th",isDecisionMaker:!1,status:"Active",lastVerified:"2024-12-01"}].map(a=>(0,d.jsx)(h.Zp,{children:(0,d.jsx)(h.Wu,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsx)("h4",{className:"font-medium",children:a.name}),a.isDecisionMaker&&(0,d.jsx)(g.E,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs",children:"Decision Maker"}),(0,d.jsx)(g.E,{variant:"secondary",className:T(a.status)+" text-xs",children:a.status})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[a.title," • ",a.department]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm",children:[a.phone&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(v.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"break-all",children:a.phone})]}),a.email&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(C.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"break-all",children:a.email})]})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["Last verified: ",U(a.lastVerified)]})]}),(0,d.jsxs)("div",{className:"flex gap-1 shrink-0",children:[(0,d.jsx)(f.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,d.jsx)(z.A,{className:"h-3 w-3"})}),(0,d.jsx)(f.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,d.jsx)(F.A,{className:"h-3 w-3"})})]})]})})},a.id))})]}),(0,d.jsxs)(i.av,{value:"activity",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Activity Timeline"}),(0,d.jsxs)(f.$,{onClick:()=>M(!0),size:"sm",className:"gap-1 self-start sm:self-center",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Log Activity"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Log"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:[{id:"1",type:"call",outcome:"Interested",content:"Discussed B2B software requirements. Interested in CRM solution.",contactPerson:"Somchai Prasert",createdBy:"John Sales Rep",createdAt:"2024-12-08T14:30:00Z"},{id:"2",type:"note",content:"Company is expanding their digital transformation initiatives. Good prospect for Q1 2025.",createdBy:"Sarah Staff",createdAt:"2024-12-07T11:15:00Z"},{id:"3",type:"meeting",outcome:"Follow-up Required",content:"Initial product demo completed. Need to prepare custom proposal.",contactPerson:"Sarah Johnson",createdBy:"Mike Manager",createdAt:"2024-12-06T16:00:00Z"}].map(a=>(0,d.jsx)(h.Zp,{children:(0,d.jsx)(h.Wu,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-100 rounded-full",children:(a=>{switch(a){case"call":return(0,d.jsx)(v.A,{className:"h-4 w-4"});case"meeting":return(0,d.jsx)(w.A,{className:"h-4 w-4"});case"note":return(0,d.jsx)(x.A,{className:"h-4 w-4"});default:return(0,d.jsx)(y.A,{className:"h-4 w-4"})}})(a.type)}),(0,d.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(g.E,{variant:"outline",children:a.type}),a.outcome&&(0,d.jsx)(g.E,{variant:"secondary",children:a.outcome}),(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:["by ",a.createdBy]})]}),(0,d.jsx)("div",{className:"text-sm",children:a.content}),a.contactPerson&&(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["Contact: ",a.contactPerson]}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:V(a.createdAt)})]})]})})},a.id))})]}),(0,d.jsxs)(i.av,{value:"lists",className:"space-y-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Lists Containing This Company"}),(0,d.jsxs)(o.XI,{children:[(0,d.jsx)(o.A0,{children:(0,d.jsxs)(o.Hj,{children:[(0,d.jsx)(o.nd,{children:"List Name"}),(0,d.jsx)(o.nd,{children:"Status"}),(0,d.jsx)(o.nd,{children:"Owner"}),(0,d.jsx)(o.nd,{children:"Added Date"}),(0,d.jsx)(o.nd,{children:"Actions"})]})}),(0,d.jsx)(o.BF,{children:S.map(a=>(0,d.jsxs)(o.Hj,{children:[(0,d.jsx)(o.nA,{className:"font-medium",children:a.name}),(0,d.jsx)(o.nA,{children:(0,d.jsx)(g.E,{variant:"secondary",className:T(a.status),children:a.status})}),(0,d.jsx)(o.nA,{children:a.owner}),(0,d.jsx)(o.nA,{children:U(a.addedDate)}),(0,d.jsx)(o.nA,{children:(0,d.jsx)(f.$,{variant:"outline",size:"sm",children:"Open List"})})]},a.id))})]})]}),(0,d.jsxs)(i.av,{value:"history",className:"space-y-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Audit Trail"}),(0,d.jsxs)(o.XI,{children:[(0,d.jsx)(o.A0,{children:(0,d.jsxs)(o.Hj,{children:[(0,d.jsx)(o.nd,{children:"Field"}),(0,d.jsx)(o.nd,{children:"Old Value"}),(0,d.jsx)(o.nd,{children:"New Value"}),(0,d.jsx)(o.nd,{children:"Changed By"}),(0,d.jsx)(o.nd,{children:"Date"})]})}),(0,d.jsx)(o.BF,{children:[{id:"1",field:"Phone",oldValue:"+66-2-123-4566",newValue:"+66-2-123-4567",changedBy:"Admin User",changedAt:"2024-12-05T10:30:00Z"},{id:"2",field:"Email",oldValue:"info@oldexample.com",newValue:"info@example.co.th",changedBy:"System Import",changedAt:"2024-12-01T14:20:00Z"}].map(a=>(0,d.jsxs)(o.Hj,{children:[(0,d.jsx)(o.nA,{className:"font-medium",children:a.field}),(0,d.jsx)(o.nA,{className:"text-red-600",children:a.oldValue}),(0,d.jsx)(o.nA,{className:"text-green-600",children:a.newValue}),(0,d.jsx)(o.nA,{children:a.changedBy}),(0,d.jsx)(o.nA,{children:V(a.changedAt)})]},a.id))})]})]})]})]})}),(0,d.jsx)(n.lG,{open:J,onOpenChange:K,children:(0,d.jsxs)(n.Cf,{className:"w-[95vw] max-w-[500px]",children:[(0,d.jsxs)(n.c7,{children:[(0,d.jsx)(n.L3,{children:"Add Contact Person"}),(0,d.jsxs)(n.rr,{children:["Add a new contact person for ",a.companyNameEn]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"First Name"}),(0,d.jsx)(j.p,{placeholder:"Enter first name"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Last Name"}),(0,d.jsx)(j.p,{placeholder:"Enter last name"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Title/Position"}),(0,d.jsx)(j.p,{placeholder:"e.g., Chief Technology Officer"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Phone"}),(0,d.jsx)(j.p,{placeholder:"+66-2-123-4567"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Email"}),(0,d.jsx)(j.p,{placeholder:"contact@company.com"})]})]})]}),(0,d.jsxs)(n.Es,{children:[(0,d.jsx)(f.$,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),(0,d.jsx)(f.$,{children:"Add Contact"})]})]})}),(0,d.jsx)(n.lG,{open:L,onOpenChange:M,children:(0,d.jsxs)(n.Cf,{className:"w-[95vw] max-w-[500px]",children:[(0,d.jsxs)(n.c7,{children:[(0,d.jsx)(n.L3,{children:"Log Activity"}),(0,d.jsxs)(n.rr,{children:["Record a new activity for ",a.companyNameEn]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Activity Type"}),(0,d.jsxs)(m.l6,{children:[(0,d.jsx)(m.bq,{children:(0,d.jsx)(m.yv,{placeholder:"Select type"})}),(0,d.jsxs)(m.gC,{children:[(0,d.jsx)(m.eb,{value:"call",children:"Call"}),(0,d.jsx)(m.eb,{value:"meeting",children:"Meeting"}),(0,d.jsx)(m.eb,{value:"note",children:"Note"}),(0,d.jsx)(m.eb,{value:"email",children:"Email"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Outcome"}),(0,d.jsxs)(m.l6,{children:[(0,d.jsx)(m.bq,{children:(0,d.jsx)(m.yv,{placeholder:"Select outcome"})}),(0,d.jsxs)(m.gC,{children:[(0,d.jsx)(m.eb,{value:"interested",children:"Interested"}),(0,d.jsx)(m.eb,{value:"not-interested",children:"Not Interested"}),(0,d.jsx)(m.eb,{value:"follow-up",children:"Follow-up Required"}),(0,d.jsx)(m.eb,{value:"qualified",children:"Qualified Lead"})]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(k.J,{children:"Notes"}),(0,d.jsx)(l.T,{placeholder:"Enter activity details...",rows:3})]})]}),(0,d.jsxs)(n.Es,{children:[(0,d.jsx)(f.$,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),(0,d.jsx)(f.$,{children:"Log Activity"})]})]})}),(0,d.jsx)(p.W,{company:a,open:N,onOpenChange:O,onSave:a=>{console.log("Company updated:",a),G&&G(a),O(!1)}}),(0,d.jsx)(q.z,{open:P,onOpenChange:Q,selectedCompanyIds:a?[a.id]:[],onSuccess:()=>{console.log("Company added to list successfully"),Q(!1)}})]})})}},74088:(a,b,c)=>{c.d(b,{a:()=>x});var d=c(78157),e=c(31768),f=c(30531),g=c(44527),h=c(85719),i=c(97457),j=c(75704);let k=e.forwardRef(({className:a,value:b,onValueChange:c,defaultValue:f,max:g=100,min:h=0,step:i=1,...k},l)=>{let[m,n]=e.useState(b?.[0]??f?.[0]??h);return e.useEffect(()=>{b?.[0]!==void 0&&n(b[0])},[b]),(0,d.jsx)("div",{className:"relative flex w-full touch-none select-none items-center",children:(0,d.jsx)("input",{type:"range",ref:l,className:(0,j.cn)("flex h-2 w-full cursor-pointer appearance-none rounded-full bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:cursor-pointer","[&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-600 [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-none",a),value:m,onChange:a=>{let b=parseInt(a.target.value);n(b),c?.([b])},min:h,max:g,step:i,...k})})});k.displayName="Slider";var l=c(46859),m=c(70089),n=c(31942),o=c(26921),p=c(95320),q=c(52530),r=c(27681),s=c(40754);let t=["Manufacturing","Logistics","Automotive","Tourism","Agriculture","Technology","Healthcare"],u=["Bangkok","Chiang Mai","Phuket","Khon Kaen","Chonburi","Rayong","Samut Prakan"],v=[{value:"S",label:"Small (S)"},{value:"M",label:"Medium (M)"},{value:"L",label:"Large (L)"}],w=["Active","Needs Verification","Invalid"];function x({isOpen:a,onOpenChange:b,criteria:c,onApplyFiltering:j,onClearFiltering:x,triggerType:y="button",initialKeyword:z=""}){let[A,B]=(0,e.useState)({...c,keyword:z||c.keyword||"",keywordWeight:c.keywordWeight||25,industrialWeight:c.industrialWeight||25,provinceWeight:c.provinceWeight||20,companySizeWeight:c.companySizeWeight||15,contactStatusWeight:c.contactStatusWeight||15,minimumScore:c.minimumScore||0}),C=(a,b)=>{B(c=>({...c,[a]:b}))},D=(A.keywordWeight||0)+(A.industrialWeight||0)+(A.provinceWeight||0)+(A.companySizeWeight||0)+(A.contactStatusWeight||0),E=Object.values(A).some((a,b)=>{let c=Object.keys(A)[b];return!c.includes("Weight")&&"minimumScore"!==c&&"profileName"!==c&&void 0!==a&&""!==a});return(0,d.jsx)(f.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(f.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(f.c7,{children:(0,d.jsxs)(f.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"h-5 w-5"}),"Smart Filtering & Lead Scoring",E&&(0,d.jsx)(n.E,{variant:"default",className:"ml-2",children:"Active"})]})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(m.Zp,{children:[(0,d.jsx)(m.aR,{className:"pb-3",children:(0,d.jsxs)(m.ZB,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),"Keyword Search"]})}),(0,d.jsxs)(m.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(i.J,{htmlFor:"keyword",children:"Search Keyword"}),(0,d.jsx)(h.p,{id:"keyword",placeholder:"Company name, registration number, or keywords...",value:A.keyword||"",onChange:a=>C("keyword",a.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{children:["Keyword Weight: ",A.keywordWeight,"%"]}),(0,d.jsx)(k,{value:[A.keywordWeight||25],onValueChange:a=>C("keywordWeight",a[0]),max:50,step:5,className:"mt-2"})]})]})]}),(0,d.jsxs)(m.Zp,{children:[(0,d.jsx)(m.aR,{className:"pb-3",children:(0,d.jsxs)(m.ZB,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),"Attribute Filters & Weights"]})}),(0,d.jsxs)(m.Wu,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(i.J,{children:"Industry"}),(0,d.jsxs)(l.l6,{value:A.industrial||"",onValueChange:a=>C("industrial","any"===a?"":a),children:[(0,d.jsx)(l.bq,{children:(0,d.jsx)(l.yv,{placeholder:"Any Industry"})}),(0,d.jsxs)(l.gC,{children:[(0,d.jsx)(l.eb,{value:"any",children:"Any Industry"}),t.map(a=>(0,d.jsx)(l.eb,{value:a,children:a},a))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{className:"text-sm",children:["Weight: ",A.industrialWeight,"%"]}),(0,d.jsx)(k,{value:[A.industrialWeight||25],onValueChange:a=>C("industrialWeight",a[0]),max:50,step:5,className:"mt-1"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(i.J,{children:"Province"}),(0,d.jsxs)(l.l6,{value:A.province||"",onValueChange:a=>C("province","any"===a?"":a),children:[(0,d.jsx)(l.bq,{children:(0,d.jsx)(l.yv,{placeholder:"Any Province"})}),(0,d.jsxs)(l.gC,{children:[(0,d.jsx)(l.eb,{value:"any",children:"Any Province"}),u.map(a=>(0,d.jsx)(l.eb,{value:a,children:a},a))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{className:"text-sm",children:["Weight: ",A.provinceWeight,"%"]}),(0,d.jsx)(k,{value:[A.provinceWeight||20],onValueChange:a=>C("provinceWeight",a[0]),max:50,step:5,className:"mt-1"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(i.J,{children:"Company Size"}),(0,d.jsxs)(l.l6,{value:A.companySize||"",onValueChange:a=>C("companySize","any"===a?"":a),children:[(0,d.jsx)(l.bq,{children:(0,d.jsx)(l.yv,{placeholder:"Any Size"})}),(0,d.jsxs)(l.gC,{children:[(0,d.jsx)(l.eb,{value:"any",children:"Any Size"}),v.map(a=>(0,d.jsx)(l.eb,{value:a.value,children:a.label},a.value))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{className:"text-sm",children:["Weight: ",A.companySizeWeight,"%"]}),(0,d.jsx)(k,{value:[A.companySizeWeight||15],onValueChange:a=>C("companySizeWeight",a[0]),max:50,step:5,className:"mt-1"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(i.J,{children:"Contact Status"}),(0,d.jsxs)(l.l6,{value:A.contactStatus||"",onValueChange:a=>C("contactStatus","any"===a?"":a),children:[(0,d.jsx)(l.bq,{children:(0,d.jsx)(l.yv,{placeholder:"Any Status"})}),(0,d.jsxs)(l.gC,{children:[(0,d.jsx)(l.eb,{value:"any",children:"Any Status"}),w.map(a=>(0,d.jsx)(l.eb,{value:a,children:a},a))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{className:"text-sm",children:["Weight: ",A.contactStatusWeight,"%"]}),(0,d.jsx)(k,{value:[A.contactStatusWeight||15],onValueChange:a=>C("contactStatusWeight",a[0]),max:50,step:5,className:"mt-1"})]})]})]}),(0,d.jsx)(s.w,{className:"my-4"}),(0,d.jsxs)("div",{className:"bg-muted p-3 rounded-md",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-medium",children:"Total Weight"}),(0,d.jsxs)(n.E,{variant:100===D?"default":"secondary",children:[D,"%"]})]}),100!==D&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Weights don't need to total 100%. Results will be normalized."})]})]})]}),(0,d.jsxs)(m.Zp,{children:[(0,d.jsx)(m.aR,{className:"pb-3",children:(0,d.jsx)(m.ZB,{className:"text-base",children:"Score Threshold"})}),(0,d.jsx)(m.Wu,{children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)(i.J,{children:["Minimum Weighted Score: ",A.minimumScore,"%"]}),(0,d.jsx)(k,{value:[A.minimumScore||0],onValueChange:a=>C("minimumScore",a[0]),max:100,step:5,className:"mt-2"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Only show companies with a weighted score above this threshold"})]})})]}),(0,d.jsxs)(m.Zp,{children:[(0,d.jsx)(m.aR,{className:"pb-3",children:(0,d.jsxs)(m.ZB,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(r.A,{className:"h-4 w-4"}),"Scoring Profile"]})}),(0,d.jsxs)(m.Wu,{children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.p,{placeholder:"Profile name (optional)",value:A.profileName||"",onChange:a=>C("profileName",a.target.value)}),(0,d.jsxs)(g.$,{variant:"outline",size:"sm",disabled:!0,children:[(0,d.jsx)(r.A,{className:"h-4 w-4 mr-1"}),"Save Profile"]})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Save this configuration as a reusable scoring profile (coming soon)"})]})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsxs)(g.$,{onClick:()=>{j(A),b(!1)},className:"flex-1",children:["Apply Smart Filtering",E&&(0,d.jsx)(n.E,{variant:"secondary",className:"ml-2 bg-white/20",children:Object.values(A).filter((a,b)=>{let c=Object.keys(A)[b];return!c.includes("Weight")&&"minimumScore"!==c&&"profileName"!==c&&void 0!==a&&""!==a}).length})]}),(0,d.jsx)(g.$,{variant:"outline",onClick:()=>{B({keywordWeight:25,industrialWeight:25,provinceWeight:20,companySizeWeight:15,contactStatusWeight:15,minimumScore:0}),x()},children:"Clear All"}),(0,d.jsx)(g.$,{variant:"ghost",onClick:()=>b(!1),children:"Cancel"})]})]})]})})}},90895:(a,b,c)=>{c.d(b,{Xi:()=>i,av:()=>j,j7:()=>h,tU:()=>g});var d=c(78157);c(31768);var e=c(98016),f=c(75704);function g({className:a,...b}){return(0,d.jsx)(e.bL,{"data-slot":"tabs",className:(0,f.cn)("flex flex-col gap-2",a),...b})}function h({className:a,...b}){return(0,d.jsx)(e.B8,{"data-slot":"tabs-list",className:(0,f.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...b})}function i({className:a,...b}){return(0,d.jsx)(e.l9,{"data-slot":"tabs-trigger",className:(0,f.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...b})}function j({className:a,...b}){return(0,d.jsx)(e.UC,{"data-slot":"tabs-content",className:(0,f.cn)("flex-1 outline-none",a),...b})}}};